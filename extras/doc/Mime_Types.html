<!DOCTYPE HTML PUBLIC '-//W3C//DTD HTML 4.0 Transitional//EN' 'http://www.w3.org/TR/REC-html40/loose.dtd'>
<!--NewPage-->
<html>
<head>
	<!-- Generated by PhpDoc date: 'Mon, 23 Dec 2002 02:08:42 +0000' -->
	<title>Docs For Class Mime_Types</title>
<link rel ='stylesheet' type='text/css' href='stylesheet.css' title='style'>
</head>
<body>

<!-- Start of Class Data -->
<h2 class="class-heading">Class Mime_Types</h2>

<pre class="class-tree">
Mime_Types
</pre>

<span class="located-in">Located in: Program_Root/Mime_Types.php</span>

<hr>

<!-- ========== Info from phpDoc block ========= -->
<b class="class-description">MIME Types class</b>
<pre class="class-full-description">
This class allows you to:
  - Retrieve the appropriate MIME type of a file (based on it's extension, or by utilising
    the file command to guess it based on the file contents).
  - Retrieve extension(s) associated with a MIME type.
  - Load MIME types and extensions from a mime.types file.

Example:
  $mime =&amp; new Mime_Types('/usr/local/apache/conf/mime.types');
  echo $mime-&gt;get_type('pdf');    // application/pdf
  echo $mime-&gt;get_extension('text/vnd.wap.wmlscript');      // wmls

See test_Mime_Types.php file for more examples.

TODO:
 - method to write MIME types to file.
 - get_file_type(): possibly preserving the parameters returned by the file command 
   (e.g. text/plain; charset=us-ascii)
</pre>
<ul class="docblock">
	
	<li><b>Package</b> - <code>default</code></li>
	
	<li><b>Version</b> - <code>0.1</code></li>
	
	<li><b>Author</b> - <code>Keyvan Minoukadeh &lt;<a href="mailto:keyvan@k1m.com">keyvan@k1m.com</a>&gt;</code></li>
	
</ul>

<hr>
<!-- should have constructor at some point -->
<!-- =========== Method SUMMARY =========== -->
<a name='Method_summary'><!-- --></a>
<h2 class="section">Method Summary</h2>
<table border='1' cellpadding='3' cellspacing='0' width='100%'>

	
	<!-- =========== Summary =========== -->
	<tr class="TableRowColor">
	<td align="right" valign="top" width="1%"><font size="-1"><code>&nbsp;void</code></font></td>
	<td align="left" valign="top" width="100%">
	<a href="Mime_Types.html#constructor Mime_Types" class="method-name-summary">constructor Mime_Types ( [$mime_types = null] )</a>
	<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor</td>
	</tr>
	
	<!-- =========== Summary =========== -->
	<tr class="TableRowColor">
	<td align="right" valign="top" width="1%"><font size="-1"><code>&nbsp;string</code></font></td>
	<td align="left" valign="top" width="100%">
	<a href="Mime_Types.html#get_extension" class="method-name-summary">get_extension ( $type )</a>
	<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get extension - returns string containing a extension associated with $type</td>
	</tr>
	
	<!-- =========== Summary =========== -->
	<tr class="TableRowColor">
	<td align="right" valign="top" width="1%"><font size="-1"><code>&nbsp;array</code></font></td>
	<td align="left" valign="top" width="100%">
	<a href="Mime_Types.html#get_extensions" class="method-name-summary">get_extensions ( $type )</a>
	<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get extensions - returns array containing extension(s)</td>
	</tr>
	
	<!-- =========== Summary =========== -->
	<tr class="TableRowColor">
	<td align="right" valign="top" width="1%"><font size="-1"><code>&nbsp;string</code></font></td>
	<td align="left" valign="top" width="100%">
	<a href="Mime_Types.html#get_file_type" class="method-name-summary">get_file_type ( $file, [$use_ext = true] )</a>
	<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get file type - returns MIME type by trying to guess it using the file command.</td>
	</tr>
	
	<!-- =========== Summary =========== -->
	<tr class="TableRowColor">
	<td align="right" valign="top" width="1%"><font size="-1"><code>&nbsp;string</code></font></td>
	<td align="left" valign="top" width="100%">
	<a href="Mime_Types.html#get_type" class="method-name-summary">get_type ( $ext )</a>
	<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get type - returns MIME type based on the file extension.</td>
	</tr>
	
	<!-- =========== Summary =========== -->
	<tr class="TableRowColor">
	<td align="right" valign="top" width="1%"><font size="-1"><code>&nbsp;bool</code></font></td>
	<td align="left" valign="top" width="100%">
	<a href="Mime_Types.html#has_extension" class="method-name-summary">has_extension ( $ext )</a>
	<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Has extension - returns true if extension $ext exists, false otherwise</td>
	</tr>
	
	<!-- =========== Summary =========== -->
	<tr class="TableRowColor">
	<td align="right" valign="top" width="1%"><font size="-1"><code>&nbsp;bool</code></font></td>
	<td align="left" valign="top" width="100%">
	<a href="Mime_Types.html#has_type" class="method-name-summary">has_type ( $type )</a>
	<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Has type - returns true if type $type exists, false otherwise</td>
	</tr>
	
	<!-- =========== Summary =========== -->
	<tr class="TableRowColor">
	<td align="right" valign="top" width="1%"><font size="-1"><code>&nbsp;bool</code></font></td>
	<td align="left" valign="top" width="100%">
	<a href="Mime_Types.html#load_file" class="method-name-summary">load_file ( $file )</a>
	<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Load file - load file containing mime types.</td>
	</tr>
	
	<!-- =========== Summary =========== -->
	<tr class="TableRowColor">
	<td align="right" valign="top" width="1%"><font size="-1"><code>&nbsp;void</code></font></td>
	<td align="left" valign="top" width="100%">
	<a href="Mime_Types.html#remove_extension" class="method-name-summary">remove_extension ( $exts )</a>
	<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove extension</td>
	</tr>
	
	<!-- =========== Summary =========== -->
	<tr class="TableRowColor">
	<td align="right" valign="top" width="1%"><font size="-1"><code>&nbsp;void</code></font></td>
	<td align="left" valign="top" width="100%">
	<a href="Mime_Types.html#remove_type" class="method-name-summary">remove_type ( [$type = null] )</a>
	<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove type</td>
	</tr>
	
	<!-- =========== Summary =========== -->
	<tr class="TableRowColor">
	<td align="right" valign="top" width="1%"><font size="-1"><code>&nbsp;void</code></font></td>
	<td align="left" valign="top" width="100%">
	<a href="Mime_Types.html#scan" class="method-name-summary">scan ( $callback, &$param )</a>
	<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Scan - goes through all MIME types passing the extension and type to the callback function.</td>
	</tr>
	
	<!-- =========== Summary =========== -->
	<tr class="TableRowColor">
	<td align="right" valign="top" width="1%"><font size="-1"><code>&nbsp;void</code></font></td>
	<td align="left" valign="top" width="100%">
	<a href="Mime_Types.html#set" class="method-name-summary">set ( $type, [$exts = null] )</a>
	<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set - set extension and MIME type</td>
	</tr>
	
</table>

<hr>
<!-- =========== INHERITED METHOD SUMMARY =========== -->
<A NAME='functions_inherited'><!-- --></A>
<h2 class="section">Inherited Method Summary</h2>

<table border='1' cellpadding='3' cellspacing='0' width='100%'>

	
</table>

<hr>
<!-- ============ FUNCTION DETAIL =========== -->

<a name='function_detail'></a>
<h2 class="section">Method Detail</h2>


<a name='constructor Mime_Types'><!-- --></a><h3>constructor Mime_Types</h3>
<table>
  <tr>
    <td valign="top"><code>void</code>&nbsp; <b>constructor Mime_Types ( [$mime_types = null] )</b></td>
  </tr>
  <tr>
    <td><br />
	  <div class="method-detailed-block">
		
		<!-- ========== Info from phpDoc block ========= -->
<b class="function-description">Constructor</b>
<pre class="function-full-description">optional parameter can be either a string containing the path to the
mime.types files, or an associative array holding the extension
as key and the MIME type as value.
Example:
  $mime =&amp; new Mime_Types('/usr/local/apache/conf/mime.types');
 or
  $mime =&amp; new Mime_Types(array(
       'application/pdf'        =&gt; 'pdf', 
       'application/postscript' =&gt; array('ai','eps')
       ));</pre>
<dl>
	<dt>Function Parameters:</dt>
	
	<dd>- <code>mixed $mime_types: </code></dd>
	

	<dt>Function Info:</dt>
	
</dl>

	  </div>
    </td>
  </tr>
</table>
<hr>

<a name='get_extension'><!-- --></a><h3>get_extension</h3>
<table>
  <tr>
    <td valign="top"><code>string</code>&nbsp; <b>get_extension ( $type )</b></td>
  </tr>
  <tr>
    <td><br />
	  <div class="method-detailed-block">
		
		<!-- ========== Info from phpDoc block ========= -->
<b class="function-description">Get extension - returns string containing a extension associated with $type</b>
<pre class="function-full-description">Example:
  $ext = $mime-&gt;get_extension('application/postscript');
  if ($ext) echo $ext;</pre>
<dl>
	<dt>Function Parameters:</dt>
	
	<dd>- <code>string $type: </code></dd>
	

	<dt>Function Info:</dt>
	
	<dd><b>Return</b> - <code>false if $type not found</code></dd>
	
</dl>

	  </div>
    </td>
  </tr>
</table>
<hr>

<a name='get_extensions'><!-- --></a><h3>get_extensions</h3>
<table>
  <tr>
    <td valign="top"><code>array</code>&nbsp; <b>get_extensions ( $type )</b></td>
  </tr>
  <tr>
    <td><br />
	  <div class="method-detailed-block">
		
		<!-- ========== Info from phpDoc block ========= -->
<b class="function-description">Get extensions - returns array containing extension(s)</b>
<pre class="function-full-description">Example:
  $exts = $mime-&gt;get_extensions('application/postscript');
  echo implode(', ', $exts);</pre>
<dl>
	<dt>Function Parameters:</dt>
	
	<dd>- <code>string $type: </code></dd>
	

	<dt>Function Info:</dt>
	
</dl>

	  </div>
    </td>
  </tr>
</table>
<hr>

<a name='get_file_type'><!-- --></a><h3>get_file_type</h3>
<table>
  <tr>
    <td valign="top"><code>string</code>&nbsp; <b>get_file_type ( $file, [$use_ext = true] )</b></td>
  </tr>
  <tr>
    <td><br />
	  <div class="method-detailed-block">
		
		<!-- ========== Info from phpDoc block ========= -->
<b class="function-description">Get file type - returns MIME type by trying to guess it using the file command.</b>
<pre class="function-full-description">Optional second parameter should be a boolean.  If true (default), get_file_type() will
try to guess the MIME type based on the file extension if the file command fails to find
a match.
Example:
  echo $mime-&gt;get_file_type('/path/to/my_file', false);
 or
  echo $mime-&gt;get_file_type('/path/to/my_file.gif');</pre>
<dl>
	<dt>Function Parameters:</dt>
	
	<dd>- <code>string $file: </code></dd>
	
	<dd>- <code>bool $use_ext: default: true</code></dd>
	

	<dt>Function Info:</dt>
	
	<dd><b>Return</b> - <code>false if unable to find suitable match</code></dd>
	
</dl>

	  </div>
    </td>
  </tr>
</table>
<hr>

<a name='get_type'><!-- --></a><h3>get_type</h3>
<table>
  <tr>
    <td valign="top"><code>string</code>&nbsp; <b>get_type ( $ext )</b></td>
  </tr>
  <tr>
    <td><br />
	  <div class="method-detailed-block">
		
		<!-- ========== Info from phpDoc block ========= -->
<b class="function-description">Get type - returns MIME type based on the file extension.</b>
<pre class="function-full-description">Example:
  echo $mime-&gt;get_type('txt');
 or
  echo $mime-&gt;get_type('test_file.txt');
both examples above will return the same result.</pre>
<dl>
	<dt>Function Parameters:</dt>
	
	<dd>- <code>string $ext: </code></dd>
	

	<dt>Function Info:</dt>
	
	<dd><b>Return</b> - <code>false if extension not found</code></dd>
	
</dl>

	  </div>
    </td>
  </tr>
</table>
<hr>

<a name='has_extension'><!-- --></a><h3>has_extension</h3>
<table>
  <tr>
    <td valign="top"><code>bool</code>&nbsp; <b>has_extension ( $ext )</b></td>
  </tr>
  <tr>
    <td><br />
	  <div class="method-detailed-block">
		
		<!-- ========== Info from phpDoc block ========= -->
<b class="function-description">Has extension - returns true if extension $ext exists, false otherwise</b>
<pre class="function-full-description">Example:
  if ($mime-&gt;has_extension('pdf')) echo 'Got it!';</pre>
<dl>
	<dt>Function Parameters:</dt>
	
	<dd>- <code>string $ext: </code></dd>
	

	<dt>Function Info:</dt>
	
</dl>

	  </div>
    </td>
  </tr>
</table>
<hr>

<a name='has_type'><!-- --></a><h3>has_type</h3>
<table>
  <tr>
    <td valign="top"><code>bool</code>&nbsp; <b>has_type ( $type )</b></td>
  </tr>
  <tr>
    <td><br />
	  <div class="method-detailed-block">
		
		<!-- ========== Info from phpDoc block ========= -->
<b class="function-description">Has type - returns true if type $type exists, false otherwise</b>
<pre class="function-full-description">Example:
  if ($mime-&gt;has_type('image/gif')) echo 'Got it!';</pre>
<dl>
	<dt>Function Parameters:</dt>
	
	<dd>- <code>string $type: </code></dd>
	

	<dt>Function Info:</dt>
	
</dl>

	  </div>
    </td>
  </tr>
</table>
<hr>

<a name='load_file'><!-- --></a><h3>load_file</h3>
<table>
  <tr>
    <td valign="top"><code>bool</code>&nbsp; <b>load_file ( $file )</b></td>
  </tr>
  <tr>
    <td><br />
	  <div class="method-detailed-block">
		
		<!-- ========== Info from phpDoc block ========= -->
<b class="function-description">Load file - load file containing mime types.</b>
<pre class="function-full-description">Example:
  $result = $mime-&gt;load_file('/usr/local/apache/conf/mime.types');
  echo (($result) ? 'Success!' : 'Failed');</pre>
<dl>
	<dt>Function Parameters:</dt>
	
	<dd>- <code>string $file: </code></dd>
	

	<dt>Function Info:</dt>
	
</dl>

	  </div>
    </td>
  </tr>
</table>
<hr>

<a name='remove_extension'><!-- --></a><h3>remove_extension</h3>
<table>
  <tr>
    <td valign="top"><code>void</code>&nbsp; <b>remove_extension ( $exts )</b></td>
  </tr>
  <tr>
    <td><br />
	  <div class="method-detailed-block">
		
		<!-- ========== Info from phpDoc block ========= -->
<b class="function-description">Remove extension</b>
<pre class="function-full-description">Example:
  $mime-&gt;remove_extension('txt');
 or
  $mime-&gt;remove_extension('txt exe html');
 or
  $mime-&gt;remove_extension(array('txt', 'exe', 'html'));</pre>
<dl>
	<dt>Function Parameters:</dt>
	
	<dd>- <code>mixed $exts: string holding extension(s) seperated by space, or array</code></dd>
	

	<dt>Function Info:</dt>
	
</dl>

	  </div>
    </td>
  </tr>
</table>
<hr>

<a name='remove_type'><!-- --></a><h3>remove_type</h3>
<table>
  <tr>
    <td valign="top"><code>void</code>&nbsp; <b>remove_type ( [$type = null] )</b></td>
  </tr>
  <tr>
    <td><br />
	  <div class="method-detailed-block">
		
		<!-- ========== Info from phpDoc block ========= -->
<b class="function-description">Remove type</b>
<pre class="function-full-description">Example:
  $mime-&gt;remove_type('text/plain');
 or
  $mime-&gt;remove_type('image/*');
  // removes all image types
 or
  $mime-&gt;remove_type();
  // clears all types</pre>
<dl>
	<dt>Function Parameters:</dt>
	
	<dd>- <code>string $type: if omitted, all types will be removed</code></dd>
	

	<dt>Function Info:</dt>
	
</dl>

	  </div>
    </td>
  </tr>
</table>
<hr>

<a name='scan'><!-- --></a><h3>scan</h3>
<table>
  <tr>
    <td valign="top"><code>void</code>&nbsp; <b>scan ( $callback, &$param )</b></td>
  </tr>
  <tr>
    <td><br />
	  <div class="method-detailed-block">
		
		<!-- ========== Info from phpDoc block ========= -->
<b class="function-description">Scan - goes through all MIME types passing the extension and type to the callback function.</b>
<pre class="function-full-description">The types will be sent in alphabetical order.
If a type has multiple extensions, each extension will be passed seperately (not as an array).

The callback function can be a method from another object (eg. array(&amp;$my_obj, 'my_method')).
The callback function should accept 3 arguments:
 1- A reference to the Mime_Types object (&amp;$mime)
 2- An array holding extension and type, array keys: 
    [0]=&gt;ext, [1]=&gt;type
 3- An optional parameter which can be used for whatever your function wants :),
    even though you might not have a use for this parameter, you need to define
    your function to accept it.  (Note: you can have this parameter be passed by reference)
The callback function should return a boolean, a value of 'true' will tell scan() you want
it to continue with the rest of the types, 'false' will tell scan() to stop calling
your callback function.</pre>
<dl>
	<dt>Function Parameters:</dt>
	
	<dd>- <code>mixed $callback: function name, or array holding an object and the method to call.</code></dd>
	
	<dd>- <code>mixed $param: passed as the 3rd argument to $callback</code></dd>
	

	<dt>Function Info:</dt>
	
</dl>

	  </div>
    </td>
  </tr>
</table>
<hr>

<a name='set'><!-- --></a><h3>set</h3>
<table>
  <tr>
    <td valign="top"><code>void</code>&nbsp; <b>set ( $type, [$exts = null] )</b></td>
  </tr>
  <tr>
    <td><br />
	  <div class="method-detailed-block">
		
		<!-- ========== Info from phpDoc block ========= -->
<b class="function-description">Set - set extension and MIME type</b>
<pre class="function-full-description">Example:
  $mime-&gt;set('text/plain', 'txt');
 or
  $mime-&gt;set('text/html', array('html','htm'));
 or
  $mime-&gt;set('text/html', 'html htm');
 or
  $mime-&gt;set(array(
       'application/pdf'        =&gt; 'oda', 
       'application/postscript' =&gt; array('ai','eps')
       ));</pre>
<dl>
	<dt>Function Parameters:</dt>
	
	<dd>- <code>mixed $type: either array containing type and extensions, or the type as string</code></dd>
	
	<dd>- <code>mixed $exts: either array holding extensions, or string holding extensions
 seperated by space.</code></dd>
	

	<dt>Function Info:</dt>
	
</dl>

	  </div>
    </td>
  </tr>
</table>
<hr>



<br />
<br />

<div align="center" class="footer">
Generated by <a href="http://phpdocu.sourceforge.net" target="_blank">phpDocumentor</a>
</div>

</body>
</html>